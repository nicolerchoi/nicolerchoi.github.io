<div *ngFor="let step of steps; index as i; last as last"
    class="step"
    [ngClass]="{
        active: active === i,
        small: i === active - 1 || i === active + 1,
        xsmall: i < active - 1 || i > active + 1
    }">
    <button class="step-button" (click)="active = i">{{ i + 1 }}</button>
    <div class="step-details">
        <p *ngFor="let substep of splitSteps(step); last as lastSub">{{ substep }}{{ lastSub ? '' : '.' }}</p>
    </div>
    <div *ngIf="!last" class="link"></div>
</div>